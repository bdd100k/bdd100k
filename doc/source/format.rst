Label Format
-------------

This is compatible with the labels generated by
`Scalabel <https://www.scalabel.ai/>`_. The labels are released in `Scalabel Format
<https://doc.scalabel.ai/format.html>`_. A label
`json <https://google.github.io/styleguide/jsoncstyleguide.xml>`_ file is a list
of frame objects with the fields below. Please note that this format is a
superset of the data fields. For example, `box3d` may be absent if the label is
a 2d bounding box, and `intrinsics` may not appear if the exact camera
calibration is unknown.

BDD100K dataset has some specific properties.

Frame attributes

.. code-block:: yaml

    - weather: "rainy|snowy|clear|overcast|undefined|partly cloudy|foggy"
    - scene: "tunnel|residential|parking lot|undefined|city street|gas stations|highway|"
    - timeofday: "daytime|night|dawn/dusk|undefined"

Label attributes

.. code-block:: yaml

    - occluded: boolean
    - truncated: boolean
    - trafficLightColor: "red|green|yellow|none"
    - areaType: "direct | alternative" (for driving area)
    - laneDirection: "parallel|vertical" (for lanes)
    - laneStyle: "solid | dashed" (for lanes)
    - laneTypes: (for lanes)


Road object categories:

.. code-block:: json

    [
        "bike",
        "bus",
        "car",
        "motor",
        "person",
        "rider",
        "traffic light",
        "traffic sign",
        "train",
        "truck"
    ]


They are labeld by `box2d`.

Drivable area category is `drivable area`. There are two area types `areaType`:

.. code-block:: json

    [
        "alternative",
        "direct"
    ]


Lane marking category is `lane`. There are 8 lane types `laneTypes`:

.. code-block:: json

    [
        "crosswalk",
        "double other",
        "double white",
        "double yellow",
        "road curb",
        "single other",
        "single white",
        "single yellow"
    ]


Both drivable areas and lane markings are labeled by `poly2d`. Please check the
visulization code |vis_labels|_ for examples of
drawing all the labels.

.. |vis_labels| replace:: ``bdd100k.vis.labels``
.. _vis_labels: https://github.com/bdd100k/bdd100k/blob/master/bdd100k/vis/labels.py

The labels for semantic segmentation are encoded in the field ``train_id`` defined in |bdd100k_label|_,
e.g. car should be 13.

.. |bdd100k_label| replace:: ``bdd100k.label.label``
.. _bdd100k_label: https://github.com/bdd100k/bdd100k/blob/master/bdd100k/label/label.py

At present time, the instance segmentation labels are provided through the 'id' field in the
semantic segmentation maps and polygons in json will be provided in the future.